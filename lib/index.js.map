{"version":3,"file":"index.js","sources":["../src/utils/index.ts","../src/index.ts"],"sourcesContent":["export class Clear {\r\n    htmlStr: string;\r\n    constructor (str:string) {\r\n        this.htmlStr = str;\r\n    };\r\n    clear(reg:RegExp) {\r\n        if (!reg) {\r\n            return this;\r\n        }\r\n        this.htmlStr = this.htmlStr.replace(reg, '');\r\n        // 每次清除完毕后将this返回, 供下一次清除其他目标\r\n        return this;\r\n    };\r\n    replace(reg:RegExp, text:string) {\r\n        if (!reg) {\r\n            return this;\r\n        }\r\n        this.htmlStr = this.htmlStr.replace(reg, text);\r\n        // 每次清除完毕后将this返回, 供下一次清除其他目标\r\n        return this;\r\n    }\r\n}","import { Clear } from \"./utils/index\";\r\nconst uglifyHtmlPlugin = () => {\r\n    return {\r\n        name: 'uglifyHtmlPlugin', // 必须的，将会在 warning 和 error 中显示\r\n        transformIndexHtml(html: string) {\r\n            const replaceObj = new Clear(html);\r\n            // 构建者模式\r\n            replaceObj\r\n                // 去除 空格换行符\r\n                .clear(/[\\r\\n\\s]*/g)\r\n                // 去除 注释\r\n                .clear(/<!--[\\w\\W\\r\\n]*?-->/gmi);\r\n            return replaceObj.htmlStr;\r\n        },\r\n    };\r\n};\r\nexport default uglifyHtmlPlugin;\r\n"],"names":["Clear","str","this","htmlStr","prototype","clear","reg","replace","text","uglifyHtmlPlugin","name","transformIndexHtml","html","replaceObj"],"mappings":"AAAA,IAAAA,EAAA,WAEI,SAAAA,EAAaC,GACTC,KAAKC,QAAUF,CAClB,CAiBL,OAhBID,EAAKI,UAAAC,MAAL,SAAMC,GACF,OAAKA,GAGLJ,KAAKC,QAAUD,KAAKC,QAAQI,QAAQD,EAAK,IAElCJ,MAJIA,MAMfF,EAAAI,UAAAG,QAAA,SAAQD,EAAYE,GAChB,OAAKF,GAGLJ,KAAKC,QAAUD,KAAKC,QAAQI,QAAQD,EAAKE,GAElCN,MAJIA,MAMlBF,CAAD,ICpBMS,EAAmB,WACrB,MAAO,CACHC,KAAM,mBACNC,4BAAmBC,GACf,IAAMC,EAAa,IAAIb,EAAMY,GAO7B,OALAC,EAEKR,MAAM,cAENA,MAAM,0BACJQ,EAAWV,OACrB,EAET"}